{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserOrders=()=>{const[orders,setOrders]=useState([]);useEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{const token=localStorage.getItem('token');if(!token)return;try{const response=await axios.get('http://localhost:8000/api/orders.php',{headers:{Authorization:\"Bearer \".concat(token)}});setOrders(response.data);}catch(error){console.error('Error fetching orders:',error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'20px auto',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Orders\"}),orders.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"You have no orders yet\"}):orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #dee2e6',borderRadius:'8px',padding:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order #\",order.id]}),/*#__PURE__*/_jsx(\"span\",{style:{padding:'5px 10px',borderRadius:'4px',color:'white',backgroundColor:order.status==='completed'?'#28a745':order.status==='shipping'?'#ffc107':'#007bff'},children:order.status})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Created: \",new Date(order.created_at).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: $\",order.total]}),order.items&&order.items.map(item=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',padding:'5px 0',borderTop:'1px solid #eee'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" x \",item.quantity]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.price]})]},item.id))]},order.id))]});};export default UserOrders;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UserOrders","orders","setOrders","fetchOrders","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","style","maxWidth","margin","padding","children","length","map","order","border","borderRadius","marginBottom","display","justifyContent","id","color","backgroundColor","status","Date","created_at","toLocaleDateString","total","items","item","borderTop","name","quantity","price"],"sources":["C:/xampp/htdocs/code/shop/frontend/src/components/UserOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UserOrders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const fetchOrders = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return;\r\n\r\n    try {\r\n      const response = await axios.get('http://localhost:8000/api/orders.php', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setOrders(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: '1000px', margin: '20px auto', padding: '20px' }}>\r\n      <h1>My Orders</h1>\r\n      {orders.length === 0 ? (\r\n        <p>You have no orders yet</p>\r\n      ) : (\r\n        orders.map(order => (\r\n          <div key={order.id} style={{ border: '1px solid #dee2e6', borderRadius: '8px', padding: '15px', marginBottom: '15px' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '10px' }}>\r\n              <h3>Order #{order.id}</h3>\r\n              <span style={{\r\n                padding: '5px 10px',\r\n                borderRadius: '4px',\r\n                color: 'white',\r\n                backgroundColor: order.status === 'completed' ? '#28a745' : order.status === 'shipping' ? '#ffc107' : '#007bff'\r\n              }}>\r\n                {order.status}\r\n              </span>\r\n            </div>\r\n            <p>Created: {new Date(order.created_at).toLocaleDateString()}</p>\r\n            <p>Total: ${order.total}</p>\r\n            {order.items && order.items.map(item => (\r\n              <div key={item.id} style={{ display: 'flex', justifyContent: 'space-between', padding: '5px 0', borderTop: '1px solid #eee' }}>\r\n                <span>{item.name} x {item.quantity}</span>\r\n                <span>${item.price}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserOrders;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}